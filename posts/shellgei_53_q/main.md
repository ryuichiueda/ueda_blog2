---
Keywords: プログラミング,勉強会,シェル芸,シェル芸勉強会
Copyright: (C) 2021 Ryuichi Ueda
---

# 【問題のみ】jus共催 第53回シェル芸が好きです。でもゾウさんのほうがもっと好きですシェル芸勉強会

* 問題で使われているデータファイルは[GitHub](https://github.com/ryuichiueda/ShellGeiData/tree/master/vol.53)にあります。クローンは以下のようにお願いします。

```bash
$ git clone https://github.com/ryuichiueda/ShellGeiData.git
```

* 環境: 解答例はUbuntu Linux 20.04で作成。Macの場合はcoreutilsをインストールすると、GNUのコマンドが使えます。BSD系の人は玄人なので各自対応のこと。

## Q1

次のように100万行、数字のデータを作ってください。

```
$ seq 1000000 | shuf > a
$ head a
706156
560303
355402
439012
600659
668472
410908
162524
779971
```

1列目の数と、5個先の1列目の数を足して、2列目に出力してください。最後の5行は出力しないでください。出力例を示します。

```
706156 1374628   <- 706156 + 668472
560303 971211    <- 560303 + 410908
355402 517926    <- ...
439012 1218983
600659 1511091
668472 1371407
410908 1073319
162524 233618
779971 826294
910432 1621884
・・・
```


## Q2

`frac`について、1列目を2列目で割って約分してください。出力も1列目が分子、2列目が分母とします。

```
$ cat frac
3240933263267302464930 518871903074343
```


## Q3

`nums`について、一番下の桁を四捨五入してください。

```
$ cat nums 
-0.327
2.33333
4.0000000000999995
```

## Q4

4桁以下のゾロ目でない数を次の手続きで処理すると、必ずある数に収束します。その数を求めてください。

1. 4桁以下のゾロ目でない数`a`を適当に選び、3桁以下なら頭に0を足して4桁にする。
2. `a`の各桁を数字が大きい順にソートして`b`、小さい順にソートして`c`を作る。（例えば`a=0324`なら`b=4320`、`c=0234`）
3. `a=b-c`として2の計算に戻る。



## Q5

小問1: ある範囲のふたつの素数をランダムに選んで1行に小さい順に並べ、次のように横向きに等差数列を出力してください。出力する整数の個数は6個としてください。


```
103 773 1443 2113 2783 3453
```

小問2: 小問1の操作を繰り返して、等差数列をランダムに延々と出力させてください。

```
4583 5483 6383 7283 8183 9083
373 6257 12141 18025 23909 29793
5051 7243 9435 11627 13819 16011
3779 7549 11319 15089 18859 22629
3469 6079 8689 11299 13909 16519
3847 6173 8499 10825 13151 15477
191 2683 5175 7667 10159 12651
・・・
```


## Q6

前問の出力をある程度保存して、横に並んだ数字がすべて素数の行を見つけてください。できる人は保存しないでパイプにつなげて見つけてください。


## Q7

`triangle`には正三角形の座標が入っており、次のように`gnuplot`を使うと正三角形が描画できます。

```
$ cat triangle
0 0
50 86.6025
100 0
0 0
$ cat triangle | gnuplot -e 'set terminal png;set size ratio -1;set output "./hoge.png";plot "-" w l'
```

小問1: この、`triangle`の各行間に、次のように3行足して、頂点が6個の星型を描いてください。

* 上の行の座標を`(x1, y1)`、下の行の座標を`(x5, y5)`とする
* 下の絵の`(x2, y2)`、`(x3, y3)`、`(x4, y4)`を計算して、順に出力する

![](https://github.com/ryuichiueda/ShellGeiData/blob/master/vol.53/koch_rule.png)

でき上がりの図

![](https://github.com/ryuichiueda/ShellGeiData/blob/master/vol.53/six.png)

小問2: できる人はこの操作を繰り返してコッホ曲線を描画してください。

![](https://github.com/ryuichiueda/ShellGeiData/blob/master/vol.53/koch.png)

